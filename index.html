<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ViteJS 8thwall A-Frame Template</title>

    <!-- XR Extras - provides utilities like load screen, almost there, and error handling.
         See github.com/8thwall/web/tree/master/xrextras -->

    <!-- We've included a slightly modified version of A-Frame, which fixes some polish concerns -->
    <script src="//cdn.8thwall.com/web/aframe/8frame-1.4.1.min.js"></script>

    <!-- XR Extras - provides utilities like load screen, almost there, and error handling.
         See github.com/8thwall/web/tree/master/xrextras -->
    <script src="//cdn.8thwall.com/web/xrextras/xrextras.js"></script>

    <!-- Landing Pages - see https://www.8thwall.com/docs/web/#landing-pages -->
    <script src="//cdn.8thwall.com/web/landing-page/landing-page.js"></script>

    <!-- 8thWall Web - Replace the app key here with your own app key -->
    <script
      async
      src="//apps.8thwall.com/xrweb?appKey=%VITE_8THWALL_APP_KEY%"
    ></script>
  </head>
  <body>
    <!-- UI -->
    <div class="controls">
      <div class="controls-header">
        <span class="controls-title"></span>
        <button id="slideToggleBtn" class="slide-toggle">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              class="toggle-icon-expand"
              d="M7 14L12 9L17 14"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              class="toggle-icon-collapse"
              d="M7 10L12 15L17 10"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              style="display: none"
            />
          </svg>
        </button>
      </div>
      <div class="controls-content">
        <div class="buttons">
          <button id="startBtn">Start ðŸ“·</button>
          <button id="bgBtn" class="secondary" disabled>Capture</button>
          <button id="toggleBtn" class="secondary" disabled>
            Toggle cloak
          </button>
          <button id="modeBtn">Full</button>
        </div>

        <label
          >Edge blur
          <input id="blur" type="range" min="0" max="24" value="24" step="1" />
        </label>
        <label><input id="mirror" type="checkbox" checked /> Mirror view</label>
        <div class="spacer"></div>
      </div>
    </div>

    <!-- We must add the tap-place component to the scene so it has an effect -->
    <a-scene
      tap-place
      landing-page
      xrextras-loading
      xrextras-runtime-error
      renderer="colorManagement:true"
      xrface="allowedDevices: any; cameraDirection: front; mirroredDisplay: true"
      ui-manager
    >
      <a-camera
        look-controls="enabled: false"
        wasd-controls="enabled: false"
        position="0 2 0"
      ></a-camera>

      <a-entity
        light="
       type: directional;
       intensity: 0.8;
       castShadow: true;
       shadowMapHeight:2048;
       shadowMapWidth:2048;
       shadowCameraTop: 20;
       shadowCameraBottom: -20;
       shadowCameraRight: 20;
       shadowCameraLeft: -20;
       target: #camera"
        xrextras-attach="target: camera; offset: 8 15 4"
        position="1 4.3 2.5"
        shadow
      >
      </a-entity>

      <a-light type="ambient" intensity="0.5"></a-light>

      <!-- <a-box
        id="test-box"
        rotation="0 45 0"
        position="-0.25 0.5 -1"
        color="hotpink"
        shadow
      ></a-box> -->
    </a-scene>

    <script type="module" src="./js/app.js"></script>
  </body>
</html>
